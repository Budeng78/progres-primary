import{c as f,u as x,r,j as t,a as b}from"./app-D5LrGWPf.js";const h=()=>{const u=f(),d=x(),o=u.state?.login||"",[e,c]=r.useState(""),[i,a]=r.useState(null),[n,l]=r.useState(!1),p=async s=>{if(s.preventDefault(),a(null),!e)return a("OTP wajib diisi");l(!0);try{await b.post("/forgot-password/verify-token",{login:o,otp_token:e}),alert("OTP valid! Silakan ganti password baru"),d("/auth/reset-password",{state:{login:o,otp:e}})}catch(m){a(m.response?.data?.message||"OTP tidak valid")}finally{l(!1)}};return t.jsxs("form",{onSubmit:p,className:"max-w-sm mx-auto mt-10 p-4 bg-white shadow rounded",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Verifikasi OTP"}),i&&t.jsx("p",{className:"text-red-500 mb-4",children:i}),t.jsx("input",{type:"text",value:e,onChange:s=>c(s.target.value),placeholder:"Masukkan OTP",className:"w-full p-2 border rounded mb-4"}),t.jsx("button",{type:"submit",disabled:n,className:"w-full p-2 bg-blue-600 text-white rounded",children:n?"Memeriksa...":"Verifikasi OTP"})]})};export{h as default};
