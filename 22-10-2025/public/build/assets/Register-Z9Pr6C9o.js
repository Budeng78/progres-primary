import{a as d,u as x,r as o,j as e,L as b}from"./app-D5LrGWPf.js";const y=async n=>{try{return await d.get("/sanctum/csrf-cookie"),(await d.post("/api/register",n)).data}catch(a){throw console.error("Register error:",a.response?.data||a.message),a}},w=()=>{const n=x(),[a,p]=o.useState({name:"",email:"",whatsapp_number:"",password:"",password_confirmation:"",karyawan_type:"none"}),[l,i]=o.useState(null),[u,c]=o.useState(!1),s=t=>{const{name:r,value:g}=t.target;p(h=>({...h,[r]:g}))},m=async t=>{t.preventDefault(),i(null),c(!0);try{const r=await y(a);console.log("Register success:",r),alert("Registrasi berhasil! Silakan login."),n("/auth/login")}catch(r){console.error("Register error:",r.response?.data||r.message),i(r.response?.data?.message||"Registrasi gagal. Periksa kembali data Anda.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:e.jsxs("form",{onSubmit:m,className:"bg-white p-6 rounded shadow-md w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Register"}),l&&e.jsx("p",{className:"text-red-500 text-center mb-4",children:l}),e.jsx("input",{type:"text",name:"name",placeholder:"Nama Lengkap",value:a.name,onChange:s,className:"w-full px-4 py-2 mb-3 border rounded focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("input",{type:"email",name:"email",placeholder:"Email",value:a.email,onChange:s,className:"w-full px-4 py-2 mb-3 border rounded focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("input",{type:"text",name:"whatsapp_number",placeholder:"Nomor WhatsApp",value:a.whatsapp_number,onChange:s,className:"w-full px-4 py-2 mb-3 border rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"password",name:"password",placeholder:"Password",value:a.password,onChange:s,className:"w-full px-4 py-2 mb-3 border rounded focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("input",{type:"password",name:"password_confirmation",placeholder:"Konfirmasi Password",value:a.password_confirmation,onChange:s,className:"w-full px-4 py-2 mb-3 border rounded focus:ring-2 focus:ring-blue-500",required:!0}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"karyawan_type",className:"text-sm text-gray-700 mb-1 block",children:"Tipe Karyawan"}),e.jsxs("select",{id:"karyawan_type",name:"karyawan_type",value:a.karyawan_type,onChange:s,className:"w-full px-4 py-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"primary",children:"Primary Karyawan"}),e.jsx("option",{value:"secondary",children:"Secondary Karyawan"}),e.jsx("option",{value:"none",children:"Bukan Salah Satu"})]})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:u?"Mendaftar...":"Daftar"}),e.jsxs("p",{className:"mt-4 text-sm text-center",children:["Sudah punya akun?"," ",e.jsx(b,{to:"/auth/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})})};export{w as default};
